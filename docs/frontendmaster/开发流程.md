# 开发流程
### 什么是前端工程化

- 工具自动化、经验规范化、标准化、流程化、集成化

### 为什么需要工程化？

- 为了效率、成本、质量、协作、降低风险

### 前端开发的一般流程

- 1、需求文档

  - 需求文档平台
  - 介入需求，优化需求，底层技术抽象，技术架构拓展性，技术架构分层

- 2、需求评审

  - 优化需求，需求讨论

- 3、技术调研

  - 技术讨论，demo 实现，方案确定

- 4、项目初始化

  - 自动化
  - 项目初始化脚手架
  - 项目初始化平台，可视化界面操作
  - 打包编译工具、代码风格检查、目录设计、业务框架、项目模版、通用 sdk 注入、技术栈、代码提交规范、通用包依赖下载、性能优化、代码拆分、环境变量

- 5、 接口平台

  - 自动化
  - 平台化
  - 接口文档阅读
  - 服务端表设计、自动生成字段、自动导入接口平台、导出 ts 类型、导出 js 请求模版代码
  - 接口 mock
  - 接口测自动化试
  - 环境代理

- 6、代码编写、构建编译、data mock、用例自测、代码提交、code review
- 7、 前后联调
- 8、测试环境/预发环境打包发布

  - 发布平台
  - 环境区分

- 9、 测试、ui 验收
- 10、bugfix、ui 修改
- 11、产品验收
- 12、分支合并、code review
- 13、生产打包发布、回滚、cdn 缓存处理

  - 发布平台

- 14、远程调试、代理、监控

  - 代理平台
  - 监控平台

    - 错误、性能、埋点
    - 链路追踪

  - 用户出现问题，找到用户的链路 id，模拟用户的操作回放，复现问题场景，代理线上到本地代码，结合 sourcemap 进行代码调试

### 需要哪些工具平台？

- 项目管理平台

  - 管理项目，创建项目，项目配置
  - 可以看作是 cli 工具的可视化

- 接口平台
- 发布平台

  - 发布平台、项目管理平台、代理平台合在一起，形成开发工作台

- 代理平台
- 监控平台
- 业务埋点平台

### 在前端工程化里做性能优化

- 代码压缩、混淆、拆分、合并、tree shaking
- 预加载，preload、prefetch、dns-preconnect
- 非阻塞加载 css js
- 懒加载，首屏资源最小化
- 缓存持久化、稳定化：通用框架、polyfill、common bundle，利用 v8 优化：热运行、script streaming
- 图片压缩、字体压缩、字体图标、css sprite、base 64
- 骨架屏注入
- pwa service worker 缓存处理
- prepack 代码预处理
